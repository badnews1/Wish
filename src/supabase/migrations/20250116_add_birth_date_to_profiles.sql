-- ============================================================================
-- ОПИСАНИЕ МИГРАЦИИ
-- ============================================================================
-- Добавляет поле birth_date в таблицу profiles для хранения даты рождения пользователя
-- Поле опциональное (nullable) - пользователь сам решает указывать или нет
-- Используется для социальных функций (друзья видят ДР)

-- ============================================================================
-- UP MIGRATION
-- ============================================================================

-- Добавляем поле birth_date (дата рождения)
ALTER TABLE public.profiles 
  ADD COLUMN birth_date date;

-- Комментарий к полю для документации
COMMENT ON COLUMN public.profiles.birth_date IS 'Дата рождения пользователя (опциональное поле для социальных функций)';

-- ============================================================================
-- DOWN MIGRATION
-- ============================================================================

-- Для отката миграции (выполняется при rollback):
-- ALTER TABLE public.profiles DROP COLUMN IF EXISTS birth_date;
